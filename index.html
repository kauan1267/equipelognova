<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Formul√°rio Equipe LOG</title>
  <style>
    * {
      margin: 0; padding: 0; box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body, html {
      height: 100vh;
      background: linear-gradient(135deg, #f0f0f0, #e0f7ff);
      display: flex;
      justify-content: center;
      align-items: center;
      padding-bottom: 40px;
      position: relative;
      min-height: 100vh;
    }
    .card {
      background: white;
      border-radius: 20px;
      padding: 40px;
      max-width: 600px;
      width: 90%;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      text-align: center;
      position: relative;
      animation: fadeIn 0.8s ease;
    }
    h1, h2 {
      color: #333;
      margin-bottom: 20px;
    }
    p, ul, li {
      color: #555;
      font-size: 1rem;
      text-align: left;
    }
    ul {
      margin: 0 auto 20px;
      max-width: 400px;
    }
    li {
      margin-bottom: 10px;
    }
    button {
      background: #00aaff;
      color: white;
      border: none;
      border-radius: 10px;
      padding: 12px 25px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s ease;
      margin-top: 30px;
    }
    button:hover {
      background: #007fcc;
    }
    .hidden {
      display: none;
    }
    textarea {
      width: 100%;
      height: 110px;
      padding: 12px;
      font-size: 1rem;
      border-radius: 10px;
      border: 1px solid #ccc;
      resize: none;
      margin-top: 15px;
    }
    .timer {
      position: absolute;
      top: 20px;
      right: 25px;
      background: #007fcc;
      color: white;
      padding: 6px 14px;
      border-radius: 8px;
      font-weight: bold;
      font-size: 0.9rem;
      user-select: none;
    }
    .progress-container {
      background: #eee;
      border-radius: 8px;
      height: 10px;
      margin: 20px 0;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      background: #00aaff;
      width: 0%;
      transition: width 0.4s ease;
    }
    footer {
      position: fixed;
      bottom: 10px;
      width: 100%;
      text-align: center;
      font-size: 0.85rem;
      color: #555;
      user-select: none;
      pointer-events: none;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(30px);}
      to {opacity: 1; transform: translateY(0);}
    }
  </style>
</head>
<body>

  <!-- Slides iniciais -->
  <div class="card" id="slide1">
    <h1>üìù Formul√°rio da Equipe LOG</h1>
    <p>Bem-vindo! Essa avalia√ß√£o √© importante para definir sua entrada na equipe.</p>
  </div>

  <div class="card hidden" id="slide2">
    <h2>üìã Regras</h2>
    <ul>
      <li>‚õî N√£o cole respostas prontas (Ctrl + V √© bloqueado a partir da segunda pergunta)</li>
      <li>‚è≥ Voc√™ tem 24 minutos para responder</li>
      <li>‚ùå N√£o poder√° refazer ap√≥s enviar</li>
    </ul>
  </div>

  <div class="card hidden" id="slide3">
    <h2>üöÄ Pronto para come√ßar?</h2>
    <button onclick="startForm()">Iniciar Formul√°rio</button>
  </div>

  <!-- Formul√°rio -->
  <div class="card hidden" id="formCard">
    <div class="timer" id="timer">24:00</div>
    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <h2 id="sectionTitle"></h2>
    <h3 id="questionText"></h3>
    <textarea id="answerInput" placeholder="Digite sua resposta aqui..."></textarea>
    <button id="nextBtn" onclick="nextQuestion()">Pr√≥xima</button>
  </div>

  <!-- Confirma√ß√£o para pr√≥xima se√ß√£o -->
  <div class="card hidden" id="confirmSection">
    <h2 id="confirmTitle"></h2>
    <p>Deseja continuar para a pr√≥xima se√ß√£o?</p>
    <button onclick="continueSection()">Sim, continuar</button>
  </div>

  <!-- Finaliza√ß√£o -->
  <div class="card hidden" id="finalPage">
    <h2>üéØ Formul√°rio enviado!</h2>
    <p>Aguarde a aprova√ß√£o do seu formul√°rio.<br><strong>‚úÖ Boa sorte!</strong></p>
  </div>

  <footer>Site desenvolvido por: 77sombraa</footer>

<script>
  // Estrutura das se√ß√µes e perguntas agrupadas conforme seu pedido
  const secoes = [
    {
      titulo: "üìù INFORMA√á√ïES INICIAIS",
      perguntas: [
        "1. Nome + ID Discord",
        "2. Qual seu hor√°rio dispon√≠vel pra ajudar na LOG?",
        "3. Atua em alguma √°rea da staff? Se sim, quais? J√° teve experi√™ncia como Equipe LOG? Se sim, me diga mais sobre."
      ]
    },
    {
      titulo: "üîß CONHECIMENTOS B√ÅSICOS DE COMANDOS",
      perguntas: [
        "4. Pra que serve o comando /hackperma? E quando ele deve ser usado?",
        "5. Em quais situa√ß√µes o /propmanager seria ideal para achar hacker?",
        "6. Pra que servem os comandos /delobjs e /forcedelete? Em quais situa√ß√µes cada um deve ser usado, e por que o /forcedelete pode ser necess√°rio quando o /delobjs n√£o funcionar?",
        "7. Como voc√™ poderia achar o hack que usa fun√ß√£o do mod menu pra falar alto?",
        "8. Se voc√™ banir um hacker e ele n√£o for kikado da cidade, o que voc√™ poderia fazer? Se voc√™ ver um hacker zaralhando na cidade, o que faria?",
        "9. Est√° ciente que ter√° uma meta semanal de 50 banimentos? (Sim ou N√£o)",
        "10. Se algu√©m te marcar num ticket falando que o dinheiro dele sumiu, o que voc√™ faria?",
        "11. Mostre que voc√™ estava atento: quais comandos citados acima n√£o existem?"
      ]
    },
    {
      titulo: "üß† COMANDOS AVAN√áADOS E AN√ÅLISE T√âCNICA",
      perguntas: [
        "12. O que √© o comando /hban e para que serve? Qual a diferen√ßa entre /hban e /hban2? Em que situa√ß√µes cada um deve ser usado?",
        "13. Para que serve o comando /cleanarea? E qual a diferen√ßa para /cleanarea area?",
        "14. Para que serve o comando /vozes e como ele ajuda na identifica√ß√£o de hacker?",
        "15. Como o comando /wallconfig source pode ser usado em uma investiga√ß√£o?",
        "16. Explique a fun√ß√£o dos comandos /bansrc source, /kicksrc source, /tptosrc source e /idsrc source, e quando cada um deve ser usado."
      ]
    },
    {
      titulo: "üîé SITUA√á√ïES PR√ÅTICAS E TOMADA DE DECIS√ÉO",
      perguntas: [
        "17. Voc√™ viu um carro spawnado na pra√ßa e quer saber quem √© o dono. Qual comando usaria e o que ele mostra?",
        "18. Explique a import√¢ncia de saber a diferen√ßa entre ID e source na identifica√ß√£o de hackers.",
        "19. Caso um hacker esteja travando o /hban, como voc√™ agiria? Quais comandos usaria e em qual ordem?",
        "20. D√™ um exemplo pr√°tico de como identificaria e lidaria com um ataque hacker envolvendo spawn de objetos e voz global."
      ]
    },
    {
      titulo: "‚ö†Ô∏è COMPROMETIMENTO COM A EQUIPE",
      perguntas: [
        "21. Voc√™ est√° ciente de que a equipe LOG √© a principal respons√°vel por combater hackers na cidade, e que a responsabilidade √© alta? Est√° disposto a assumir esse compromisso sabendo que, caso n√£o bata a meta semanal de banimentos, poder√° ser removido da equipe? Tamb√©m est√° ciente de que poder√£o ser feitas perguntas-surpresa e que, caso n√£o saiba responder, poder√° ser punido?"
      ]
    }
  ];

  let respostas = {};
  let secaoAtual = 0;
  let perguntaAtual = 0;

  let tempoRestante = 24 * 60; // em segundos
  let timerInterval;

  // Slides iniciais autom√°ticos
  const slides = ["slide1", "slide2", "slide3"];
  let currentSlide = 0;

  function showSlide(index) {
    slides.forEach((id, i) => {
      const el = document.getElementById(id);
      if(i === index) el.classList.remove("hidden");
      else el.classList.add("hidden");
    });
  }

  // Mostra slides autom√°ticos a cada 3.5s
  let slideInterval = setInterval(() => {
    currentSlide++;
    if(currentSlide < slides.length) {
      showSlide(currentSlide);
    } else {
      clearInterval(slideInterval);
    }
  }, 3500);

  function startForm() {
    slides.forEach(id => document.getElementById(id).classList.add("hidden"));
    document.getElementById("formCard").classList.remove("hidden");
    secaoAtual = 0;
    perguntaAtual = 0;
    mostrarPergunta();
    iniciarContador();
  }

  function iniciarContador() {
    const timerDisplay = document.getElementById("timer");
    timerInterval = setInterval(() => {
      if(tempoRestante <= 0) {
        clearInterval(timerInterval);
        document.getElementById("formCard").innerHTML = "<h2>‚è± Tempo esgotado! Formul√°rio encerrado.</h2>";
        return;
      }
      const minutos = Math.floor(tempoRestante / 60);
      const segundos = tempoRestante % 60;
      timerDisplay.textContent = `${minutos.toString().padStart(2,'0')}:${segundos.toString().padStart(2,'0')}`;
      tempoRestante--;
    }, 1000);
  }

  function mostrarPergunta() {
    const secao = secoes[secaoAtual];
    const pergunta = secao.perguntas[perguntaAtual];
    document.getElementById("sectionTitle").innerText = secao.titulo;
    document.getElementById("questionText").innerText = pergunta;
    document.getElementById("answerInput").value = "";
    atualizarProgressBar();
    document.getElementById("answerInput").focus();
  }

  function atualizarProgressBar() {
    const totalPerguntas = secoes.reduce((acc, s) => acc + s.perguntas.length, 0);
    let respondidas = 0;
    for(let i = 0; i < secaoAtual; i++) {
      respondidas += secoes[i].perguntas.length;
    }
    respondidas += perguntaAtual;
    const porcentagem = (respondidas / totalPerguntas) * 100;
    document.getElementById("progressBar").style.width = porcentagem + "%";
  }

  function nextQuestion() {
    const resposta = document.getElementById("answerInput").value.trim();
    if(!resposta) {
      alert("Por favor, responda antes de continuar.");
      return;
    }

    const secao = secoes[secaoAtual];
    const pergunta = secao.perguntas[perguntaAtual];
    respostas[pergunta] = resposta;

    perguntaAtual++;
    if(perguntaAtual >= secao.perguntas.length) {
      if(secaoAtual < secoes.length - 1) {
        // acabou se√ß√£o, mostra confirma√ß√£o
        document.getElementById("formCard").classList.add("hidden");
        document.getElementById("confirmSection").classList.remove("hidden");
        document.getElementById("confirmTitle").innerText = `Voc√™ concluiu a se√ß√£o: ${secao.titulo}`;
        perguntaAtual = 0;
      } else {
        // acabou tudo
        finalizarFormulario();
      }
    } else {
      mostrarPergunta();
    }
  }

  function continueSection() {
    document.getElementById("confirmSection").classList.add("hidden");
    document.getElementById("formCard").classList.remove("hidden");
    secaoAtual++;
    mostrarPergunta();
  }

  function finalizarFormulario() {
    document.getElementById("formCard").classList.add("hidden");
    document.getElementById("confirmSection").classList.add("hidden");
    document.getElementById("finalPage").classList.remove("hidden");
    clearInterval(timerInterval);
    enviarParaWebhook();
  }

  // Fun√ß√£o para enviar os dados ao webhook Discord, respeitando limite de 25 campos por embed
  async function enviarParaWebhook() {
    const webhookURL = "https://discord.com/api/webhooks/1397640296698740826/UJqim4Wfp-MZyAkRGy9f4YacQLac5yeeDxWaFl3TzucovKWS3ga44ChNrtRGFqdd5p9N";

    const entries = Object.entries(respostas).map(([pergunta, resposta]) => {
      const valor = resposta.length > 1024 ? resposta.substring(0, 1021) + "..." : resposta;
      return {
        name: pergunta,
        value: valor || "(sem resposta)",
        inline: false
      };
    });

    function chunkArray(arr, size) {
      const chunks = [];
      for(let i = 0; i < arr.length; i += size) {
        chunks.push(arr.slice(i, i + size));
      }
      return chunks;
    }

    const chunks = chunkArray(entries, 25);

    for(let i = 0; i < chunks.length; i++) {
      const chunk = chunks[i];
      const payload = {
        embeds: [{
          title: `üì® Nova Resposta - Formul√°rio Equipe LOG${chunks.length > 1 ? ` (Parte ${i + 1}/${chunks.length})` : ""}`,
          color: 3447003,
          fields: chunk,
          timestamp: new Date().toISOString()
        }]
      };

      try {
        const response = await fetch(webhookURL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });

        if(!response.ok) {
          console.error("Erro ao enviar webhook:", response.statusText);
        }
      } catch(err) {
        console.error("Erro ao enviar webhook:", err);
      }
    }
  }

  // Bloquear Ctrl+C sempre e Ctrl+V a partir da segunda pergunta
  document.addEventListener("keydown", function(e) {
    const totalRespondidas = (() => {
      let count = 0;
      for(let i = 0; i < secaoAtual; i++) {
        count += secoes[i].perguntas.length;
      }
      count += perguntaAtual;
      return count;
    })();

    if(e.ctrlKey && (e.key === "c" || e.key === "C")) {
      e.preventDefault();
      alert("Copiar (Ctrl + C) est√° desativado neste formul√°rio.");
    }

    if(e.ctrlKey && (e.key === "v" || e.key === "V")) {
      if(totalRespondidas > 0) {
        e.preventDefault();
        alert("Colar (Ctrl + V) est√° desativado a partir da segunda pergunta.");
      }
    }
  });
</script>

</body>
</html>
