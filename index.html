<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Formul√°rio Equipe LOG</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', sans-serif;
    }
    body, html {
      height: 100vh;
      background: linear-gradient(135deg, #f0f0f0, #e0f7ff);
      display: flex;
      align-items: center;
      justify-content: center;
      padding-bottom: 40px; /* espa√ßo para o footer fixo */
      position: relative;
      min-height: 100vh;
    }
    .card {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      max-width: 600px;
      width: 90%;
      text-align: center;
      animation: fadeIn 0.8s ease;
      position: relative;
    }
    h1, h2 {
      color: #333;
      margin-bottom: 20px;
    }
    p, li {
      color: #555;
      font-size: 1rem;
    }
    ul {
      text-align: left;
      margin: 20px auto;
      display: inline-block;
    }
    li {
      margin: 10px 0;
    }
    button {
      margin-top: 30px;
      padding: 10px 25px;
      background: #00aaff;
      color: white;
      font-size: 1rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #007fcc;
    }
    .hidden {
      display: none;
    }
    .progress-container {
      background: #eee;
      border-radius: 8px;
      overflow: hidden;
      height: 10px;
      margin: 20px 0;
    }
    .progress-bar {
      width: 0%;
      height: 100%;
      background: #00aaff;
      transition: width 0.4s ease;
    }
    textarea {
      width: 100%;
      height: 100px;
      font-size: 1rem;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 10px;
      resize: none;
      margin-top: 15px;
    }
    .timer {
      position: absolute;
      top: 20px;
      right: 25px;
      background: #007fcc;
      color: white;
      padding: 6px 14px;
      border-radius: 8px;
      font-weight: bold;
      font-size: 0.9rem;
    }
    footer {
      position: fixed;
      bottom: 10px;
      width: 100%;
      text-align: center;
      font-size: 0.85rem;
      color: #555;
      font-family: 'Segoe UI', sans-serif;
      user-select: none;
      pointer-events: none;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <div class="card" id="slide1">
    <h1>üìù Formul√°rio da Equipe LOG</h1>
    <p>Bem-vindo! Essa avalia√ß√£o √© importante para definir sua entrada na equipe.</p>
  </div>

  <div class="card hidden" id="slide2">
    <h2>üìã Regras</h2>
    <ul>
      <li>‚õî N√£o cole respostas prontas (Ctrl + V √© bloqueado a partir da segunda pergunta)</li>
      <li>‚è≥ Voc√™ tem 24 minutos</li>
      <li>‚ùå N√£o poder√° refazer ap√≥s enviar</li>
    </ul>
  </div>

  <div class="card hidden" id="slide3">
    <h2>üöÄ Pronto para come√ßar?</h2>
    <button onclick="startForm()">Iniciar Formul√°rio</button>
  </div>

  <div class="card hidden" id="formCard">
    <div class="timer" id="timer">24:00</div>
    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <h2 id="sectionTitle"></h2>
    <h3 id="questionText"></h3>
    <textarea id="answerInput" placeholder="Digite sua resposta aqui..."></textarea><br>
    <button id="nextBtn" onclick="nextQuestion()">Pr√≥xima</button>
  </div>

  <div class="card hidden" id="confirmSection">
    <h2 id="confirmTitle"></h2>
    <p id="confirmText">Deseja continuar para a pr√≥xima se√ß√£o?</p>
    <button onclick="continueSection()">Sim, continuar</button>
  </div>

  <div class="card hidden" id="finalPage">
    <h2>üéØ Formul√°rio enviado!</h2>
    <p>Aguarde a aprova√ß√£o do seu formul√°rio.<br><strong>‚úÖ Boa sorte!</strong></p>
  </div>

  <footer>Site desenvolvido por: 77sombraa</footer>

  <script>
    const slides = ["slide1", "slide2", "slide3"];
    let currentSlide = 0;

    // Define se√ß√µes com t√≠tulo e array de perguntas
    const secoes = [
      {
        titulo: "üìù INFORMA√á√ïES INICIAIS",
        perguntas: [
          "1. Nome + ID Discord",
          "2. Qual seu hor√°rio dispon√≠vel pra ajudar na LOG?",
          "3. Atua em alguma √°rea da staff? Se sim, quais?",
          "4. J√° teve experi√™ncia como Equipe LOG? Se sim, me diga mais sobre."
        ]
      },
      {
        titulo: "üîß CONHECIMENTOS B√ÅSICOS DE COMANDOS",
        perguntas: [
          "5. Pra que serve o comando /hackperma? E quando ele deve ser usado?",
          "6. Em quais situa√ß√µes o /propmanager seria ideal para achar hacker?",
          "7. Pra que serve o /delobjs? E em quais situa√ß√µes seria necess√°rio us√°-lo?",
          "8. Pra que serve o /forcedelete? E por que ele pode ser usado quando o /delobjs n√£o funcionar?",
          "9. Como voc√™ poderia achar o hack que usa fun√ß√£o do mod menu pra falar alto?",
          "10. Se voc√™ banir um hacker e ele n√£o for kikado da cidade, o que voc√™ poderia fazer?",
          "11. Se voc√™ ver um hacker zaralhando na cidade, o que voc√™ faria?",
          "12. Est√° ciente que ter√° uma meta semanal de 50 banimentos? (Sim ou N√£o)",
          "13. Se algu√©m te marcar num ticket falando que o dinheiro dele sumiu, o que voc√™ faria?",
          "14. Mostre que voc√™ estava atento nas perguntas: quais comandos citados acima n√£o existem?"
        ]
      },
      {
        titulo: "üß† COMANDOS AVAN√áADOS E AN√ÅLISE T√âCNICA",
        perguntas: [
          "15. O que √© o comando /hban e para que serve?",
          "16. Qual a diferen√ßa entre /hban e /hban2? Em que situa√ß√µes cada um deve ser usado?",
          "17. Para que serve o comando /cleanarea? E qual a diferen√ßa para /cleanarea area?",
          "18. Para que serve o comando /vozes e como ele ajuda na identifica√ß√£o de hacker?",
          "19. Como o comando /wallconfig source pode ser usado em uma investiga√ß√£o?",
          "20. Explique a fun√ß√£o dos seguintes comandos e quando cada um deve ser usado:",
          "‚Ä¢ /bansrc source",
          "‚Ä¢ /kicksrc source",
          "‚Ä¢ /tptosrc source",
          "‚Ä¢ /idsrc source"
        ]
      },
      {
        titulo: "üîé SITUA√á√ïES PR√ÅTICAS E TOMADA DE DECIS√ÉO",
        perguntas: [
          "21. Voc√™ viu um carro spawnado na pra√ßa e quer saber quem √© o dono. Qual comando usaria e o que ele mostra?",
          "22. Explique a import√¢ncia de saber a diferen√ßa entre ID e source na identifica√ß√£o de hackers.",
          "23. Caso um hacker esteja travando o /hban, como voc√™ agiria? Quais comandos usaria e em qual ordem?",
          "24. D√™ um exemplo pr√°tico de como voc√™ identificaria e lidaria com um ataque hacker envolvendo spawn de objetos e voz global."
        ]
      },
      {
        titulo: "‚ö†Ô∏è COMPROMETIMENTO COM A EQUIPE",
        perguntas: [
          "25. Voc√™ est√° ciente de que a equipe LOG √© a principal respons√°vel por combater hackers na cidade, e que a responsabilidade √© alta? Est√° disposto a assumir esse compromisso sabendo que, caso n√£o bata a meta semanal de banimentos, poder√° ser removido da equipe?",
          "Tamb√©m est√° ciente de que em qualquer momento poder√£o ser feitas perguntas-surpresa sobre os comandos e situa√ß√µes citadas acima e, caso n√£o saiba responder corretamente, poder√° ser punido por estar colando ou n√£o estar realmente preparado?"
        ]
      }
    ];

    let respostas = {};
    let secaoAtual = 0;
    let perguntaAtual = 0;

    // Tempo em segundos: 24 minutos
    let tempoRestante = 24 * 60;
    let timerInterval;

    function showSlide(index) {
      if (slides[index - 1]) document.getElementById(slides[index - 1]).classList.add("hidden");
      if (slides[index]) document.getElementById(slides[index]).classList.remove("hidden");
    }

    let slideInterval = setInterval(() => {
      currentSlide++;
      if (currentSlide < slides.length) {
        showSlide(currentSlide);
      } else {
        clearInterval(slideInterval);
      }
    }, 3500);

    function startForm() {
      slides.forEach(id => document.getElementById(id).classList.add("hidden"));
      document.getElementById("formCard").classList.remove("hidden");
      perguntaAtual = 0;
      secaoAtual = 0;
      mostrarPergunta();
      iniciarContador();
    }

    function iniciarContador() {
      const timerDisplay = document.getElementById("timer");
      timerInterval = setInterval(() => {
        if (tempoRestante <= 0) {
          clearInterval(timerInterval);
          document.getElementById("formCard").innerHTML = "<h2>‚è± Tempo esgotado! Formul√°rio encerrado.</h2>";
          return;
        }
        const minutos = Math.floor(tempoRestante / 60);
        const segundos = tempoRestante % 60;
        timerDisplay.textContent = `${minutos.toString().padStart(2, '0')}:${segundos.toString().padStart(2, '0')}`;
        tempoRestante--;
      }, 1000);
    }

    function mostrarPergunta() {
      const secao = secoes[secaoAtual];
      const pergunta = secao.perguntas[perguntaAtual];

      document.getElementById("sectionTitle").innerText = secao.titulo;
      document.getElementById("questionText").innerText = pergunta;
      document.getElementById("answerInput").value = "";
      document.getElementById("progressBar").style.width = 
        (((getPerguntasRespondidasCount() / getTotalPerguntas()) * 100) + "%");

      // Foca no textarea
      document.getElementById("answerInput").focus();
    }

    function nextQuestion() {
      const resposta = document.getElementById("answerInput").value.trim();
      if (!resposta) {
        alert("Por favor, responda antes de continuar.");
        return;
      }

      const secao = secoes[secaoAtual];
      const pergunta = secao.perguntas[perguntaAtual];

      respostas[pergunta] = resposta;
      perguntaAtual++;

      if (perguntaAtual >= secao.perguntas.length) {
        // Chegou ao fim da se√ß√£o, pedir confirma√ß√£o para pr√≥xima
        if (secaoAtual < secoes.length - 1) {
          // Esconder o form e mostrar tela de confirma√ß√£o
          document.getElementById("formCard").classList.add("hidden");
          document.getElementById("confirmSection").classList.remove("hidden");
          document.getElementById("confirmTitle").innerText = `Voc√™ concluiu a se√ß√£o: ${secao.titulo}`;
          perguntaAtual = 0; // reset para pr√≥xima se√ß√£o, s√≥ confirmando antes
        } else {
          // √öltima se√ß√£o respondida, enviar e finalizar
          finalizarFormulario();
        }
      } else {
        mostrarPergunta();
      }
    }

    function continueSection() {
      document.getElementById("confirmSection").classList.add("hidden");
      document.getElementById("formCard").classList.remove("hidden");
      secaoAtual++;
      mostrarPergunta();
    }

    function finalizarFormulario() {
      document.getElementById("formCard").classList.add("hidden");
      document.getElementById("finalPage").classList.remove("hidden");
      clearInterval(timerInterval);
      enviarParaWebhook();
    }

    function getTotalPerguntas() {
      return secoes.reduce((acc, s) => acc + s.perguntas.length, 0);
    }

    function getPerguntasRespondidasCount() {
      let count = 0;
      for(let i = 0; i < secaoAtual; i++) {
        count += secoes[i].perguntas.length;
      }
      count += perguntaAtual;
      return count;
    }

    function enviarParaWebhook() {
      const fields = Object.entries(respostas).map(([pergunta, resposta]) => ({
        name: pergunta,
        value: resposta,
        inline: false
      }));

      const payload = {
        embeds: [{
          title: "üì® Nova Resposta - Formul√°rio Equipe LOG",
          color: 3447003,
          fields,
          timestamp: new Date()
        }]
      };

      fetch("https://discord.com/api/webhooks/1397640296698740826/UJqim4Wfp-MZyAkRGy9f4YacQLac5yeeDxWaFl3TzucovKWS3ga44ChNrtRGFqdd5p9N", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      }).then(r => {
        if (!r.ok) console.error("Erro:", r.statusText);
      }).catch(console.error);
    }

    // Bloquear Ctrl+C sempre; Bloquear Ctrl+V a partir da segunda pergunta
    document.addEventListener("keydown", function (e) {
      const perguntasRespondidas = getPerguntasRespondidasCount();

      if (e.ctrlKey && (e.key === "c" || e.key === "C")) {
        e.preventDefault();
        alert("Copiar (Ctrl + C) est√° desativado neste formul√°rio.");
      }

      if (e.ctrlKey && (e.key === "v" || e.key === "V")) {
        // Permitir colar s√≥ na primeira pergunta (total respostas = 0)
        if (perguntasRespondidas > 0) {
          e.preventDefault();
          alert("Colar (Ctrl + V) est√° desativado a partir da segunda pergunta.");
        }
      }
    });

  </script>
</body>
</html>
